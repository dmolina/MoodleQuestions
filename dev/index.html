<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MoodleQuestions.jl</title><link rel="canonical" href="https://dmolina.github.io/MoodleQuestions.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">MoodleQuestions.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Limitations-1"><span>Limitations</span></a></li><li><a class="tocitem" href="#Installation-1"><span>Installation</span></a></li><li><a class="tocitem" href="#Import-functionality-1"><span>Import functionality</span></a></li><li><a class="tocitem" href="#Input-text-file-format-1"><span>Input text file format</span></a></li><li><a class="tocitem" href="#Export-functionality-1"><span>Export functionality</span></a></li><li class="toplevel"><a class="tocitem" href="#Main-program-1"><span>Main program</span></a></li><li class="toplevel"><a class="tocitem" href="#API-1"><span>API</span></a></li></ul></li><li><a class="tocitem" href="formato/">Instructions</a></li><li><a class="tocitem" href="server/">Server Mode</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dmolina/MoodleQuestions.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="MoodleQuestions-1"><a class="docs-heading-anchor" href="#MoodleQuestions-1">MoodleQuestions</a><a class="docs-heading-anchor-permalink" href="#MoodleQuestions-1" title="Permalink"></a></h1><p>This package manager questions for the <a href="https://moodle.org/">Moodle educational tool</a>.</p><p>This package was created by my own usage, so the functionality is initially reduced. Due to the covid-19, the classrooms are getting more virtual at my University, and the moodle is getting more usage.</p><p>Create Questions in Moodle is a bit tedious, so I have created a import function from a text file. </p><h2 id="Limitations-1"><a class="docs-heading-anchor" href="#Limitations-1">Limitations</a><a class="docs-heading-anchor-permalink" href="#Limitations-1" title="Permalink"></a></h2><p>This package is currently limited to multichoice and truefalse questions.</p><h2 id="Installation-1"><a class="docs-heading-anchor" href="#Installation-1">Installation</a><a class="docs-heading-anchor-permalink" href="#Installation-1" title="Permalink"></a></h2><p>Like other Julia packages, you may checkout QuestionsMoodle from official repo, as</p><pre><code class="language-julia">using Pkg;  Pkg.add(&quot;MoodleQuestions&quot;)</code></pre><p>This package is expecting to be included. Until now you can do:</p><pre><code class="language-julia">Pkg.add(&quot;https://github.com/dmolina/MoodleQuestions&quot;)</code></pre><h2 id="Import-functionality-1"><a class="docs-heading-anchor" href="#Import-functionality-1">Import functionality</a><a class="docs-heading-anchor-permalink" href="#Import-functionality-1" title="Permalink"></a></h2><p>It is able to read SWAD (swad.ugr.es) and a text file format. </p><p>The functionality of import is done by functions:</p><pre><code class="language-julia">function read_txt(fname::AbstractString)::Quiz</code></pre><p>when fname is the input data, and return a Quiz structure.  fname must be in the format described in next section.</p><pre><code class="language-julia">read_swad(fname::AbstractString)::Quiz</code></pre><p>when fname is the input data, and return a Quiz structure. </p><h2 id="Input-text-file-format-1"><a class="docs-heading-anchor" href="#Input-text-file-format-1">Input text file format</a><a class="docs-heading-anchor-permalink" href="#Input-text-file-format-1" title="Permalink"></a></h2><p>This package is able to read a text file. The format has been designed to be as simple and readable as possible. </p><pre><code class="language-text">* Category 1

Text of question

- Option 1
+ Option 2
- Option 3</code></pre><p>The sentences starting with *** is a new category, with the name.</p><p>The sentences without <em>**, *+</em>, or <em>-</em> are the text of the question. It is expected to be from only one line.</p><p>The sentences starting with <em>-</em> or <em>+</em> and the different answers for the previous question. The <em>-</em> means that the answer is false, and the <em>+</em> means that the sentence is the right answer.</p><p>The answers in the question are shuffle, except when one of the word of <em>A</em>, <em>B</em>, ... is used. </p><p>In <a href="formato/#format-1"><code>Instructions</code></a> you can see more details.</p><h2 id="Export-functionality-1"><a class="docs-heading-anchor" href="#Export-functionality-1">Export functionality</a><a class="docs-heading-anchor-permalink" href="#Export-functionality-1" title="Permalink"></a></h2><p>It is able to export to the MoodleXML format. </p><p>This functionality is done by function </p><pre><code class="language-julia">save_to_moodle(quiz::Quiz, template::AbstractString)</code></pre><p>When template is the output filename (with .xml extension). </p><p>Actually, due to problem importing in moodle, it creates a XML file for each category. Thus, if template is &quot;output.xml&quot; and the Quiz has categories &quot;Cat1&quot; and &quot;Cat2&quot;, the output will be &quot;output<em>Cat1.xml&quot; with the questions of category <em>Cat1</em> and &quot;output</em>Cat2.xml&quot; with the questions in category *Cat2**.</p><h1 id="Main-program-1"><a class="docs-heading-anchor" href="#Main-program-1">Main program</a><a class="docs-heading-anchor-permalink" href="#Main-program-1" title="Permalink"></a></h1><p>This package can be used to create a main program to create questions from a text file. The function could be similar tool</p><pre><code class="language-julia">using MoodleQuestions

function main(ARGS)
    if length(ARGS)!=2
        println(stderr, &quot;usage: textfile outputfile&quot;)
        return
    end

    fname = ARGS[1]
    foutput = ARGS[2]

    if !isfile(fname)
        println(&quot;Error, the file &#39;$fname&#39; does not exist&quot;)
        return
    end

    quiz = read_txt(fname)
    save_to_moodle(quiz, foutput)
end

isinteractive() || main(ARGS)</code></pre><h1 id="API-1"><a class="docs-heading-anchor" href="#API-1">API</a><a class="docs-heading-anchor-permalink" href="#API-1" title="Permalink"></a></h1><ul><li><a href="#MoodleQuestions.create_header_question_moodle-NTuple{4,Any}"><code>MoodleQuestions.create_header_question_moodle</code></a></li><li><a href="#MoodleQuestions.get_params-Tuple{HTTP.Messages.Request}"><code>MoodleQuestions.get_params</code></a></li><li><a href="#MoodleQuestions.read_swad-Tuple{AbstractString}"><code>MoodleQuestions.read_swad</code></a></li><li><a href="#MoodleQuestions.read_txt-Tuple{AbstractString}"><code>MoodleQuestions.read_txt</code></a></li><li><a href="#MoodleQuestions.read_txt-Tuple{IO}"><code>MoodleQuestions.read_txt</code></a></li><li><a href="#MoodleQuestions.replace_accent-Tuple{Any}"><code>MoodleQuestions.replace_accent</code></a></li><li><a href="#MoodleQuestions.replace_utf8-Tuple{AbstractString}"><code>MoodleQuestions.replace_utf8</code></a></li><li><a href="#MoodleQuestions.save_to_moodle_category-Tuple{MoodleQuestions.Quiz,AbstractString}"><code>MoodleQuestions.save_to_moodle_category</code></a></li><li><a href="server/#MoodleQuestions.serve_quiz-Tuple{Any}"><code>MoodleQuestions.serve_quiz</code></a></li><li><a href="#MoodleQuestions.serve_quiz"><code>MoodleQuestions.serve_quiz</code></a></li><li><a href="#MoodleQuestions.txt_to_moodle"><code>MoodleQuestions.txt_to_moodle</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.read_swad-Tuple{AbstractString}" href="#MoodleQuestions.read_swad-Tuple{AbstractString}"><code>MoodleQuestions.read_swad</code></a> — <span class="docstring-category">Method</span></header><section><div><p>read_swad(fname::AbstractString)::Quiz</p><p>Read a XML documentation from SWAD and return a Quiz answer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL49-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.read_txt-Tuple{AbstractString}" href="#MoodleQuestions.read_txt-Tuple{AbstractString}"><code>MoodleQuestions.read_txt</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Read the text file to create the Quiz</p><pre><code class="language-none">read_txt(fname)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL292-L296">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.read_txt-Tuple{IO}" href="#MoodleQuestions.read_txt-Tuple{IO}"><code>MoodleQuestions.read_txt</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Read the text file to create the Quiz</p><pre><code class="language-none">read_txt(io::IO)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL354-L358">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.serve_quiz" href="#MoodleQuestions.serve_quiz"><code>MoodleQuestions.serve_quiz</code></a> — <span class="docstring-category">Function</span></header><section><div><p>serve_quiz(port)</p><p>Run the text file in the txt format, and return the XML file. If there is only one category only one parameter is defined.</p><p>serve_quiz(port)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/serve.jl#LL147-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.create_header_question_moodle-NTuple{4,Any}" href="#MoodleQuestions.create_header_question_moodle-NTuple{4,Any}"><code>MoodleQuestions.create_header_question_moodle</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Create the header of a question for Moodle</p><p>create<em>header</em>question_moodle(xroot, tag, type)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL170-L174">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.get_params-Tuple{HTTP.Messages.Request}" href="#MoodleQuestions.get_params-Tuple{HTTP.Messages.Request}"><code>MoodleQuestions.get_params</code></a> — <span class="docstring-category">Method</span></header><section><div><p>get_params(req::HTTP.Request)</p><p>Returns the POST parameters in a Dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/serve.jl#LL13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.replace_accent-Tuple{Any}" href="#MoodleQuestions.replace_accent-Tuple{Any}"><code>MoodleQuestions.replace_accent</code></a> — <span class="docstring-category">Method</span></header><section><div><p>replace_accent(string)</p><p>Return the string without accents (for XML filename saving).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/serve.jl#LL69-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.replace_utf8-Tuple{AbstractString}" href="#MoodleQuestions.replace_utf8-Tuple{AbstractString}"><code>MoodleQuestions.replace_utf8</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Replace the symbols in iso-9110 (Windows) to UTF-8.</p><pre><code class="language-none">replace_utf(text::AbstractString)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.save_to_moodle_category-Tuple{MoodleQuestions.Quiz,AbstractString}" href="#MoodleQuestions.save_to_moodle_category-Tuple{MoodleQuestions.Quiz,AbstractString}"><code>MoodleQuestions.save_to_moodle_category</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Save the quiz into a group of categories.</p><pre><code class="language-none">save_to_moodle(quiz::Quiz, category::AbstractString)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL221-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MoodleQuestions.txt_to_moodle" href="#MoodleQuestions.txt_to_moodle"><code>MoodleQuestions.txt_to_moodle</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Save the questions in a file as a XML Moodle Question</p><pre><code class="language-none">txt_to_moodle(fname::AbstractString, template::AbstractString)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dmolina/MoodleQuestions.jl/blob/9ae4d303a9af80de8b13c6b37b6c36d42f0fb30a/src/read_write.jl#LL280-L285">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="formato/">Instructions »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 1 June 2020 23:12">Monday 1 June 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
